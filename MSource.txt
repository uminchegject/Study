■hou.qtの管理
●key_resolve_info_callback・unregisterKeyResolveInfoCallback
QWidgetにHotKeyをインストール及びアンインストールする処理です。
実装の際は、contextsを用意してシーンビュータブとパラメータータブに用意したコンテクストを設定します。

# 設定したいコンテキストを渡す
def key_resolve_info_callback(q_widget, **kwargs):
	return {'contexts':['h.my.widget.context']}
# hotkeyにコンテキストをインストール
hou.qt.registerKeyResolveInfoCallback(q_widget, self.key_resolve_info_callback)

# hotkeyに設定されているコンテキストをアンインストール
hou.qt.unregisterKeyResolveInfoCallback(q_widget)


●keyPressEvent
QWidgetにキーの入力があった際に呼び出される処理。
インストールしているHotKeyのイベントをが引数として取得できるため任意のイベントを無効化することができる。
実装の際はシーンビューペイン、パラメーターペインのKeyPressEventをオーバーライドして、特定のイベントだけ無効化する対応をします。
ただ、各Paneごとにqtが独立して存在しているため不透明なため、こちらの対応は厳しい可能性。

def keyPressEvent(self, event):
	# 適応されるhotkeyの入力イベントからショートカットのシンボルを取得
	symbol = hou.qt.resolveKeyEvent(event)
	
	# 特定のシンボルに処理を入れたい場合は照らし合わせを行い処理を追加する
	if symbol == "h.my.widget.category.action":
		# 追加処理
		# ...
		event.accept()


■hou.hotkeysの管理
●installDefinitions
hotkeysを定義し、設定を行う対応方法です。
シーンビューのcontextsとパラメーターのcontextsに編集を加える対応をとります。
実際にcontextsデータに変更が入るのはまずいのでエディター上でのみバインドされた状態にした上で特定のhotkeyを無効化します。


# demoPythonステートにコマンドカテゴリを追加
definitions = hou.PluginHotkeyDefinitions()
demo_category = "h.pane.gview.state.sop.demo"
definitions.addCommandCategory(demo_category, "demo Operation", "These actions apply to the demo operation")

# demoPythonステートのコマンドカテゴリ下にコマンドを追加
delete_symbol = demo_category + ".delete"
definitions.addCommand(
    delete_symbol,
    "Delete Selected",
    "Delete the selected geometry"
)
commit_symbol = demo_category + ".commit"
definitions.addCommand(
    commit_symbol,
    "Commit Changes",
    "Save changes to parameters and start a new cache"
)
cancel_symbol = demo_category + ".cancel"
definitions.addCommand(
    cancel_symbol,
    "Cancel Changes",
    "Discard any  changes and return to an empty cache"
)

# demoPythonステートが自身のステートのキーバインドを保持するコンテキストを追加します。
demo_context = "h.pane.gview.state.sop.demo"
definitions.addContext(demo_context, "demo Operation", "These keys apply to the demo operation")

# コマンドのデフォルトのキーバインドをそのコンテキストに追加します。
definitions.addDefaultBinding(demo_context, delete_symbol, ("Del",))
definitions.addDefaultBinding(demo_context, commit_symbol, ())
definitions.addDefaultBinding(demo_context, cancel_symbol, ())
